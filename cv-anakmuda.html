<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>CV Maker Anak Muda</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- jsPDF -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<style>
*{box-sizing:border-box}
body{
    margin:0;
    font-family:'Poppins',sans-serif;
    background:#0f0f1a;
    color:#fff;
}

/* MOBILE FIRST */
.container{
    padding:15px;
}

.card{
    background:#15152a;
    border-radius:15px;
    padding:15px;
    margin-bottom:15px;
}

/* INPUT */
input,textarea,select{
    width:100%;
    padding:10px;
    margin:6px 0;
    border:none;
    border-radius:8px;
    outline:none;
}

/* BUTTON */
button{
    width:100%;
    padding:12px;
    border:none;
    border-radius:10px;
    background:#ff0077;
    color:#fff;
    font-size:16px;
    cursor:pointer;
    margin-top:10px;
}

/* CV */
.cv{
    border-radius:15px;
    overflow:hidden;
}

/* LEFT */
.left{
    text-align:center;
    padding:20px;
}

.left img{
    width:110px;
    height:110px;
    border-radius:50%;
    border:4px solid #fff;
    object-fit:cover;
}

/* RIGHT */
.right{
    padding:20px;
}

h3{
    border-bottom:1px solid rgba(255,255,255,.3);
    padding-bottom:5px;
}

/* THEMES */
.neon .left{background:linear-gradient(135deg,#ff00cc,#3333ff)}
.terminal .left{background:#000;color:#00ff00;font-family:monospace}
.anime .left{background:linear-gradient(135deg,#ff9a9e,#fad0c4);color:#000}

.neon button{background:#00f2ff}
.terminal button{background:#00ff00;color:#000}
.anime button{background:#ff6f91}

/* DESKTOP */
@media(min-width:768px){
    .container{
        max-width:1100px;
        margin:auto;
        display:flex;
        gap:15px;
    }
    .card{width:50%}
}
</style>
</head>

<body class="neon">

<div class="container">

<!-- FORM -->
<div class="card">
<h2>CV Maker Versi 2 By Mr.Rm19</h2>

<select id="theme">
    <option value="neon">Neon</option>
    <option value="terminal">Terminal</option>
    <option value="anime">Anime</option>
</select>

<input type="file" id="photo" accept="image/*">
<input id="name" placeholder="Nama Lengkap">
<input id="role" placeholder="Role (Developer, Student)">
<input id="email" placeholder="Email">
<input id="phone" placeholder="No HP">
<textarea id="about" placeholder="Tentang Saya"></textarea>
<textarea id="skills" placeholder="Skill"></textarea>
<textarea id="exp" placeholder="Pengalaman / Proyek"></textarea>

<button onclick="downloadPDF()">Download PDF</button>
</div>

<!-- PREVIEW -->
<div class="card">
<h2>Preview CV</h2>

<div class="cv" id="cv">
    <div class="left">
        <img id="cvPhoto">
        <h2 id="cvName">Nama Kamu</h2>
        <p id="cvRole"></p>
        <p id="cvEmail"></p>
        <p id="cvPhone"></p>
    </div>

    <div class="right">
        <h3>Tentang Saya</h3>
        <p id="cvAbout"></p>

        <h3>Skill</h3>
        <p id="cvSkills"></p>

        <h3>Pengalaman</h3>
        <p id="cvExp"></p>
    </div>
</div>
</div>

</div>

<script>
/* === HELPER === */
const $ = id => document.getElementById(id);

/* === LIVE PREVIEW UPDATE === */
function updateCV(){
    $("cvName").innerText  = $("name").value || "Nama Kamu";
    $("cvRole").innerText  = $("role").value;
    $("cvEmail").innerText = $("email").value;
    $("cvPhone").innerText = $("phone").value;
    $("cvAbout").innerText = $("about").value;
    $("cvSkills").innerText= $("skills").value;
    $("cvExp").innerText   = $("exp").value;
}

/* === PHOTO LIVE === */
$("photo").addEventListener("change", ()=>{
    if($("photo").files[0]){
        const r = new FileReader();
        r.onload = () => $("cvPhoto").src = r.result;
        r.readAsDataURL($("photo").files[0]);
    }
});

/* === THEME CHANGE === */
$("theme").addEventListener("change", ()=>{
    document.body.className = $("theme").value;
});

/* === INPUT LISTENER (LIVE) === */
document.querySelectorAll("input, textarea").forEach(el=>{
    el.addEventListener("input", updateCV);
});

/* === PDF === */
async function downloadPDF(){
    const {jsPDF} = window.jspdf;
    const canvas = await html2canvas($("cv"), {scale:2});
    const img = canvas.toDataURL("image/png");
    const pdf = new jsPDF("p","mm","a4");
    pdf.addImage(img,"PNG",10,10,190,0);
    pdf.save("CV-Anak-Muda.pdf");
}

/* INIT */
updateCV();
</script>

</body>
</html>
